{% extends 'base.html' %}

{% block content %}
{% with messages = get_flashed_messages(with_categories= True) %}
        {% if messages %}
            {% for category, message in messages %}
            <div class="alert alert-{{ category }} flash-message text-center col-6 m-auto mb-2">
                <p>{{ message }}</p>
            </div>
            {% endfor %}
        {% endif %}
    {% endwith %}
    <div class="d-flex pt-4 justify-content-center ">
        <form action="" method="POST" class="col-6 d-flex flex-column gap-4 justify-content-end card p-4" >
          {{ form.hidden_tag() }}
          <div class="form-group">
            {{ form.spouse1_salary.label(class="mb-2")}}
            {{ form.spouse1_salary(class="form-control") }}
          </div>
          <div class="form-group">
            {{ form.spouse2_salary.label(class="mb-2")}}
            {{ form.spouse2_salary(class="form-control") }}
          </div>
          <div class="form-group">
            {{ form.salary.label(class="mb-2") }}
            {{ form.salary(class="form-control") }}
          </div>
        <div class="form-group">
            {{ form.hour.label(class="mb-2") }}
            {{ form.hour(class="form-control") }}
        </div>
        <div class="form-group">
            {{ form.relation.label(class="mb-2") }}
            {{ form.relation(class="form-control") }}
        </div>
        <input type="submit" value="Calculate">
    </form>
    </div>
    
    {% if annual_income %}
    <div class="col-6 gap-4 m-auto card p-4 text-center mt-4">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope='col'>Relation</th>
                    <th scope="col">Gross Annual Salary</th>
                    <th scope="col">Net Annual Salary</th>
                    <th scope="col">Annual Taxes</th>
                    
                </tr>
                <tbody>
                    <tr>
                        <th scope="row">1</th>
                        <td>{{ relation }}</td>
                        <td>{{ annual_income }}</td>
                        <td>{{ net_annual_income }}</td>
                        <td>{{ taxes }}</td>
                    </tr>
                    <tr>
                        <th scope="row">2</th>
                        <td>{{ monthly_income }}</td>
                        <td>{{ (annual_income / 2) * 0.92 }}</td>
                        <td>{{ (annual_income / 2) * 0.08 }}</td>
                    </tr>
                </tbody>
        </table>
            <h5>Annual Salary: {{ annual_income }} €</h5>
        <h5>Montly Wage: {{ monthly_income }} €</h5>
        <h5>Weekly Wage: {{ weekly_income }} €</h5>
        <h5>Daily Wage: {{ daily_income }} €</h5>
        <h5>Hour Wage: {{ hourly_income }} €</h5>
    </div>
</div>
    {% endif %}

{% endblock %}

