{% extends 'base.html' %}

{% block content %}
{% with messages = get_flashed_messages(with_categories= True) %}
        {% if messages %}
            {% for category, message in messages %}
            <div class="alert alert-{{ category }} flash-message text-center col-6 m-auto mb-2">
                <p>{{ message }}</p>
            </div>
            {% endfor %}
        {% endif %}
    {% endwith %}
    <div class="d-flex pt-4 justify-content-center ">
        <form action="" method="POST" class="col-6 d-flex flex-column gap-4 justify-content-end card p-4" >
          {{ form.hidden_tag() }}
          <div class="form-group">
            {{ form.salary.label(class="mb-2") }}
            {{ form.salary(class="form-control") }}
        </div>
            <div class="form-group">
            {{ form.hour.label(class="mb-2") }}
            {{ form.hour(class="form-control") }}
        </div>
            <div class="form-group">
                {{ form.relation.label(class="mb-2") }}
                {{ form.relation(class="form-control") }}
        </div>
        <input type="submit" value="Calculate">
    </form>
    </div>
    
    {% if annual_income %}
    <div class="col-6 gap-4 m-auto card p-4 text-center mt-4 mb-4">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Gross Salary</th>
                    <th scope="col">Net Salary</th>
                    <th scope="col">Taxes</th>
                </tr>
            </thead>
                <tbody>
                    <tr>
                        <th scope="row">Annual</th>
                        <td>{{ annual_income }}</td>
                        <td>{{ net_annual_income }}</td>
                        <td>{{ taxes }}</td>

                        </tr>
                    <tr>
                    </tr>
                    <tr>
                        <th scope="row">Monthly</th>
                        <td>{{ monthly_income }}</td>
                        <td>{{ net_monthly_income }}</td>
                        <td>{{ monthly_tax_income }}</td>
                    </tr>
                    <tr>
                        <th scope="row">Weekly</th>
                        <td>{{ weekly_income }}</td>
                        <td>{{ net_weekly_income }}</td>
                        <td>{{ weekly_tax_income }}</td>
                    </tr>
                    <tr>
                        <th scope="row"> Daily</th>
                        <td>{{ daily_income }}</td>
                        <td>{{ net_daily_income }}</td>
                        <td>{{ daily_tax_income }}</td>
                    </tr>
                    <tr>
                        <th scope="row"> Hourly</th>
                        <td>{{ hourly_income }}</td>
                        <td>{{ net_hourly_income }}</td>
                        <td>{{ hours_tax_income }}</td>
                    </tr>
                </tbody>
        </table>
</div>
    {% endif %}

{% endblock %}

